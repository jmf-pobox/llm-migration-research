# Migration Report: {{ m.identity.project_name }}

**Run ID:** `{{ m.identity.run_id }}`
**Generated:** {{ generated_at }}

## Summary

| Metric | Value |
|--------|-------|
| Project | {{ m.identity.project_name }} |
| Source | {{ m.identity.source_language }} |
| Target | {{ m.identity.target_language }} |
| Strategy | {{ m.identity.strategy }} |
| Status | {{ m.outcome.status }} |
| Duration | {{ m.timing.wall_clock_duration_ms | duration }} |
| Cost | {{ m.cost.total_cost_usd | cost }} |
| I/O Match | {{ m.io_contract.match_rate_pct | pct }} |

## Timing

| Phase | Duration |
|-------|----------|
{% for phase, ms in m.timing.phase_durations_ms.items() %}
| {{ phase }} | {{ ms | duration }} |
{% endfor %}
| **Total** | {{ m.timing.wall_clock_duration_ms | duration }} |

## Code Metrics

| Metric | Source | Target |
|--------|--------|--------|
| Production LOC | {{ m.source_metrics.production_loc | number }} | {{ m.target_metrics.production_loc | number }} |
| Test LOC | {{ m.source_metrics.test_loc | number }} | {{ m.target_metrics.test_loc | number }} |
| Functions | {{ m.source_metrics.function_count }} | {{ m.target_metrics.function_count }} |
| Avg CC | {{ "%.1f" | format(m.source_metrics.avg_cyclomatic_complexity) }} | {{ "%.1f" | format(m.target_metrics.avg_cyclomatic_complexity) }} |
| Max CC | {{ m.source_metrics.max_cyclomatic_complexity }} | {{ m.target_metrics.max_cyclomatic_complexity }} |
| Expansion | - | {{ "%.2f" | format(m.loc_expansion_ratio) }}x |

## Token Usage

| Metric | Count |
|--------|-------|
| Input Tokens | {{ m.tokens.input_tokens | number }} |
| Output Tokens | {{ m.tokens.output_tokens | number }} |
| Cache Creation | {{ m.tokens.cache_creation_input_tokens | number }} |
| Cache Read | {{ m.tokens.cache_read_input_tokens | number }} |
| Cache Efficiency | {{ (m.tokens.cache_efficiency_ratio * 100) | pct }} |

## Quality Gates

| Gate | Status |
|------|--------|
| Compilation | {{ "PASS" if m.quality_gates.compilation.passed else "FAIL" }} |
| Linting | {{ "PASS" if m.quality_gates.linting.passed else "FAIL" }} ({{ m.quality_gates.linting.tool }}) |
| Formatting | {{ "PASS" if m.quality_gates.formatting.passed else "FAIL" }} |
| Tests | {{ "PASS" if m.quality_gates.unit_tests.passed else "FAIL" }} ({{ m.quality_gates.unit_tests.passed_count }}/{{ m.quality_gates.unit_tests.total }}) |
{% if m.quality_gates.coverage.line_coverage_pct %}
| Coverage | {{ m.quality_gates.coverage.line_coverage_pct | pct }} |
{% endif %}

## I/O Contract

| Metric | Value |
|--------|-------|
| Total Cases | {{ m.io_contract.total_test_cases }} |
| Passed | {{ m.io_contract.passed }} |
| Failed | {{ m.io_contract.failed }} |
| Unsupported | {{ m.io_contract.unsupported }} |
| Match Rate | {{ m.io_contract.match_rate_pct | pct }} |

{% if m.outcome.blocking_issues %}
## Blocking Issues

{% for issue in m.outcome.blocking_issues %}
- {{ issue }}
{% endfor %}
{% endif %}

{% if m.outcome.notes %}
## Notes

{{ m.outcome.notes }}
{% endif %}

---
*Schema version: {{ m.schema_version }}*
